[{"apiVersion":"influxdata.com/v2alpha1","kind":"Dashboard","metadata":{"name":"naughty-shtern-c8a001"},"spec":{"charts":[{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear","suffix":"Wh"}],"colorMapping":{"sellingW-period_avg-arska-94E686DD335C-mean-":"#31C0F6","sellingWh-period_avg-arska-94E686DD335C-mean-":"#A500A5"},"colorizeRows":true,"colors":[{"id":"mAkEIg6DOriFkyHYpaHe1","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"F9pqxdAjfZSEnEnQ_8rWI","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"bvaK86JA4QnVgxkoFWiq-","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"step","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Sales per hour kWh","note":"Requires Shelly 3EM or other supported energy meter","noteOnEmpty":true,"opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"arska\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"period_avg\")\n  |> filter(fn: (r) => r[\"_field\"] == \"sellingW\" or r[\"_field\"] == \"sellingWh\")\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":9,"widthRatio":1,"xCol":"_time","yCol":"_value"},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear","suffix":"c/kWh"}],"colorMapping":{"price-period_price-mean-":"#31C0F6"},"colorizeRows":true,"colors":[{"id":"mAkEIg6DOriFkyHYpaHe1","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"F9pqxdAjfZSEnEnQ_8rWI","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"bvaK86JA4QnVgxkoFWiq-","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"step","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Price c/kWh (source: EntsoE)","note":"day-ahead prices from EntsoE Transparency API","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"arska\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"period_price\")\n  |> filter(fn: (r) => r[\"_field\"] == \"price\")\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":9,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":5},{"axes":[{"base":"10","name":"x","scale":"linear"},{"name":"y","scale":"linear"}],"colorMapping":{"ch0-period_avg-arska-94E686DD335C-mean-":"#A500A5","ch1-period_avg-arska-94E686DD335C-mean-":"#31C0F6","ch3-period_avg-arska-94E686DD335C-mean-":"#FF7E27"},"colorizeRows":true,"colors":[{"id":"1FF0phR5AlRG9TK63U76h","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"8uvs-HVwtP4v70jq1aW7e","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"2VWKhatmJ-03K2_Jq9gV-","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"step","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Channel utilization","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"arska\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"period_avg\") \n  |> filter(fn: (r) => r[\"_field\"] == \"ch0\" or r[\"_field\"] == \"ch1\" or r[\"_field\"] == \"ch2\" or r[\"_field\"] == \"ch3\" or r[\"_field\"] == \"ch4\" or r[\"_field\"] == \"ch5\" or r[\"_field\"] == \"ch5\" )\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":9,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":10},{"axes":[{"base":"10","name":"x","scale":"linear"},{"name":"y","scale":"linear","suffix":"€/h"}],"colorMapping":{"mean-":"#31C0F6"},"colorizeRows":true,"colors":[{"id":"mAkEIg6DOriFkyHYpaHe1","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"F9pqxdAjfZSEnEnQ_8rWI","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"bvaK86JA4QnVgxkoFWiq-","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"step","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Energy value per hour (net value, no margins or tax)","note":"Requires energy meter (Shelly 3EM) and price data from EntsoE","noteOnEmpty":true,"opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"PowerIn = from(bucket: \"arska\")\n|> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n|> filter(fn: (r) => r[\"_measurement\"] == \"period_avg\")\n|> filter(fn: (r) => r[\"_field\"] == \"sellingWh\")\n|> aggregateWindow(every: 1h,fn: mean, createEmpty: false)\n\n\nPrice = from(bucket: \"arska\")\n|> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n|> filter(fn: (r) => r[\"_measurement\"] == \"period_price\")\n|> filter(fn: (r) => r[\"_field\"] == \"price\")\n|> aggregateWindow(every: 1h ,fn: mean, createEmpty: false)\n\nEnergyValue = join(tables: {PowerIn: PowerIn, Price: Price}, on: [\"_time\"])\n|> map(fn: (r) => ({_time: r._time,_value: r._value_PowerIn * r._value_Price/100000.0}))\n|> yield(name: \"mean\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":9,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":15},{"axes":[{"base":"10","name":"x","scale":"linear"},{"name":"y","scale":"linear","suffix":"€"}],"colorMapping":{"sum-":"#31C0F6"},"colorizeRows":true,"colors":[{"id":"mAkEIg6DOriFkyHYpaHe1","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"F9pqxdAjfZSEnEnQ_8rWI","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"bvaK86JA4QnVgxkoFWiq-","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"step","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Energy value per day (net value, no margins or tax)","note":"Requires energy meter (Shelly 3EM) and price data from EntsoE","noteOnEmpty":true,"opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"PowerIn = from(bucket: \"arska\")\n|> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n|> filter(fn: (r) =>  r[\"_measurement\"] == \"period_avg\")\n|> filter(fn: (r) => r[\"_field\"] == \"sellingWh\")\n|> aggregateWindow(every: 1h,fn: mean, createEmpty: false)\n\n\nPrice = from(bucket: \"arska\")\n|> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n|> filter(fn: (r) => r[\"_measurement\"] == \"period_price\")\n|> filter(fn: (r) => r[\"_field\"] == \"price\")\n|> aggregateWindow(every: 1h ,fn: mean, createEmpty: false)\n\nEnergyValue = join(tables: {PowerIn: PowerIn, Price: Price}, on: [\"_time\"])\n|> map(fn: (r) => ({_time: r._time,_value: r._value_PowerIn * r._value_Price/100000.0}))\n|> aggregateWindow(every: 1d ,fn: sum, createEmpty: false)\n|> yield(name: \"sum\")|"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":9,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":20},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear","suffix":"℃"}],"colorMapping":{"sensor1-sensors-arska-94E686DD335C-mean-":"#31C0F6"},"colorizeRows":true,"colors":[{"id":"VVi1Ov5qRae5HS6Fs4fHH","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"zJnrn82XlykSoE-mIslA9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"QfjvSbdiYzQRS6xPdZJfc","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Sensor values","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"arska\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"sensors\")\n  |> filter(fn: (r) => r[\"_field\"] == \"sensor1\" or r[\"_field\"] == \"sensor2\" or r[\"_field\"] == \"sensor3\")\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":9,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":25},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorMapping":{"uptime-sensors-arska-94E686DD335C-mean-":"#31C0F6"},"colorizeRows":true,"colors":[{"id":"10FrG7qhDlO4Qm_e1C7au","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"XVoCkqGiebqt-McOacaoV","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"55cbyMIZHjLce_8-Vsu3b","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Debug - Uptime","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"arska\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"sensors\")\n  |> filter(fn: (r) => r[\"_field\"] == \"uptime\")\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":9,"widthRatio":1,"yPos":30}],"description":"Basic graphs of energy export/import, energy value, price and channel utilization","name":"Arska Graphs"}}]
